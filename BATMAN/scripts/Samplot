#!/bin/bash

#SBATCH --partition=defq
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=32
#SBATCH --mem=128g
#SBATCH --time=48:00:00
#SBATCH --job-name=samplot_chr2
#SBATCH --output=/gpfs01/home/mbxas26/CNS/samplot/logs/slurm-%x-%j.out
#SBATCH --error=/gpfs01/home/mbxas26/CNS/samplot/logs/slurm-%x-%j.err
#SBATCH --mail-type=ALL
#SBATCH --mail-user=mbxas26@exmail.nottingham.ac.uk

# Load environment
source $HOME/.bash_profile

# Activate conda environment with Samplot installed
conda activate samplot

# Run Samplot to visualize a duplication event in BATMAN sample
samplot plot \
    -n 25D016162 \                                   # Sample name (Batman sample ID)
    -b /gpfs01/home/mbxas26/CNS/project_files/sort_25D016162_bm.bam \  # Input BAM (Batman aligned reads)
    -o chr2.png \                                    # Output plot file (PNG image)
    -c chr2 \                                        # Chromosome to plot
    -s 90379794 \                                    # Start coordinate of the region
    -e 90402423 \                                    # End coordinate of the region
    -t DUP                                           # SV type: Duplication

# Deactivate conda environment after run
conda deactivate
